{% extends layoutApp %}
{% block content %}
<div class="col-lg-12">
	<div class="ibox">
		<div class="ibox-title">
			<h5>Cambio de clave</h5>

		</div>
		<div class="ibox-content">
			<div class="row">

				<div class="col-lg-6">
					<form method="POST" action="{{ root }}/account/password" id="form-edit" class="form-horizontal" autocomplete="off">
						{{ hidden_field_tag('datos.id', datos.id) }}

						<div class="form-group">
							<label for="" class="col-sm-3 control-label">Clave actual</label>

							<div class="col-sm-6">
								{{ password_field_tag('clave_actual','',{class:'required form-control'}) }}
							</div>

						</div>
						<div class="form-group">
							<label for="" class="col-sm-3 control-label">Nueva clave</label>

							<div class="col-sm-6">
								{{ password_field_tag('clave_nueva','',{class:'required form-control'}) }}
							</div>

						</div>
						<div class="form-group">
							<label for="" class="col-sm-3 control-label">Nueva clave (repita)</label>

							<div class="col-sm-6">
								{{ password_field_tag('clave_repeat','',{class:'required form-control'}) }}
							</div>

						</div>
						<div class="form-group">
							<label for="" class="col-sm-3 control-label"></label>
							<button class="btn btn-primary" type="submit">Cambiar</button>
						</div>
					</form>
				</div>

				<div class="col-lg-6">
					<div class="ibox-content text-center">
						<h1>{{ user.nombres }}&nbsp;{{ user.apellidos }}</h1>
						<div class="m-b-sm">
							<i class="fa fa-user-circle-o fa-5x" aria-hidden="true"></i>
						</div>
						<p class="font-bold">{{ user.username }}</p>

						<div class="text-center">
							<a href="{{ root }}/account" class="btn btn-xs btn-primary"><i class="fa fa-arrow-left"></i>Regresar </a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>


	{{ bundle('select2') }}
	{{ bundle('validate') }}
	<script>

		var vm = new Vue({
			el: '#form-edit'

		});
		$('#form-edit').validate({
			onfocusout: false,
			onkeyup: false,
			onclick: false,
			rules: {
				clave_nueva: {
					minlength: 5
				},
				clave_repeat: {
					minlength: 5,
					equalTo: "#clave_nueva"
				}
			},
			submitHandler: function () {

				return true;
			}
		});


	</script>
	{% endblock %}
